% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/openai_embed.R
\name{tidy_oai_embedding}
\alias{tidy_oai_embedding}
\title{Process OpenAI embedding API response into a tidy format}
\usage{
tidy_oai_embedding(response)
}
\arguments{
\item{response}{An httr2 response object or the parsed JSON response
from OpenAI's embedding API}
}
\value{
A tibble containing the embedding vectors as columns (V1, V2, etc.)
and optionally an \code{oai_index} column if present in the response
}
\description{
Converts the nested list response from an OpenAI embedding API
request into a tidy tibble with embedding vectors as columns.
}
\details{
This function handles both single document and batch embedding responses.
It extracts the embedding vectors and converts them into a wide format
tibble where each column (V1, V2, ..., Vn) represents one dimension
of the embedding vector. If the response includes index information,
it adds an \code{oai_index} column to preserve the ordering.
}
\examples{
\dontrun{
  # Process response from httr2 request
  req <- oai_build_embedding_request("Hello world")
  resp <- httr2::req_perform(req)
  embeddings <- tidy_oai_embedding(resp)

  # Process already parsed JSON
  resp_json <- httr2::resp_body_json(resp)
  embeddings <- tidy_oai_embedding(resp_json)
}
}
