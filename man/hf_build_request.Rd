% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hf_inference.R
\name{hf_build_request}
\alias{hf_build_request}
\title{Prepare a single text embedding request}
\usage{
hf_build_request(
  input,
  endpoint_url,
  key_name,
  max_retries = 3,
  timeout = 10,
  validate = FALSE
)
}
\arguments{
\item{input}{Character string to get a response for}

\item{endpoint_url}{The URL of the Hugging Face Inference API endpoint}

\item{key_name}{Name of the environment variable containing the API key}

\item{max_retries}{Maximum number of retry attempts for failed requests}

\item{timeout}{Request timeout in seconds}

\item{validate}{Whether to validate the endpoint before creating the request}
}
\value{
An httr2 request object
}
\description{
Creates an httr2 request object for obtaining a response from a Hugging Face
Inference endpoint for a single text input. The function can be used for
multiple tasks, i.e. for embedding an input, or classifying an input
}
\details{
For developers, this function can form the basis of single requests, or a
if mapped over a list of requests.
}
\examples{
\dontrun{
  # Create request using API key from environment
  req <- hf_build_request(
    input = "This is a sample text to embed",
    endpoint_url = "https://my-endpoint.huggingface.cloud/embedding_api",
    key_name = "HF_API_KEY"
  )

  # Using default key name
  req <- hf_build_request(
    input = "This is a sample text to classify",
    endpoint_url = "https://my-endpoint.huggingface.cloud/classification_api"
  )
}
}
