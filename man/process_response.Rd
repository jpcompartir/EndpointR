% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/core.R
\name{process_response}
\alias{process_response}
\title{Process API response with error handling}
\usage{
process_response(resp, indices, tidy_func)
}
\arguments{
\item{resp}{An httr2_response object or error object from a failed request}

\item{indices}{Vector of indices to track original position of requests}

\item{tidy_func}{Function to process/tidy successful API responses}
}
\value{
A tibble with processed results or error information, including:
\itemize{
\item original_index: Position in original request batch
\item .error: Logical indicating if an error occurred
\item .error_message: Character description of any error
\item Additional columns from tidy_func output
}
}
\description{
Higher-order function that applies a tidying function to an API response.
Handles both successful responses and errors, returning a consistent tibble structure. The \code{tidy_func} parameter allows you to provide the necessary function for your particular workflow.
}
\examples{
\dontrun{
  # Process a response with custom tidying function
  result <- process_response(
    resp = api_response,
    indices = c(1, 2, 3),
    tidy_func = function(r) { tibble::tibble(data = httr2::resp_body_json(r)) }
  )
}
}
